---
title: "Exploratory Data Analysis (EDA) - AmeriCorps"
author: "GWU Intro to Data Science -- DATS 6101 Group8"
# date: "today"
date: "`r Sys.Date()`"
output:
  html_document:
    code_folding: show
    number_sections: false
    toc: yes
    toc_depth: 3
    toc_float: yes
---

```{r init, include=F}
# The package "ezids" (EZ Intro to Data Science) includes a lot of the helper functions we developed for the course. 
# Some of the frequently used functions are loadPkg(), xkabledply(), xkablesummary(), uzscale(), etc.
# Once installed, load the library.
library(ezids)
```


```{r setup, include=FALSE}
# some of common options (and the defaults) are: 
# include=T, eval=T, echo=T, results='hide'/'asis'/'markup',..., collapse=F, warning=T, message=T, error=T, cache=T, fig.width=6, fig.height=4, fig.dim=c(6,4) #inches, fig.align='left'/'center','right', 
knitr::opts_chunk$set(warning = F, results = "markup", message = F)
options(scientific=T, digits = 3) 
```

```{r include=FALSE}
library(dplyr)
library(ggplot2)
library(tidyr)
```



# Introduction on AmeriCorps

AmeriCorps is a national service program in the United States, established in 1993, that encourages individuals to serve their communities through various initiatives.. Its mission is to “Improve lives , strengthen communities, and foster civic engagement through service and volunteering.”  Members engage in projects that address pressing social issues such as education, health, public safety, and environmental sustainability. In return for their service, members may receive benefits like education awards, living stipends, and professional experience.

Americorp members serve in different programs that focus on specific methods of service. Americorp also offers grants to fund service projects, allowing grant recipients to tailor solutions to their communities 

Americorps Program w/ Brief Description

Americorps NCCC (National Civilian Community Corps): is a program that engages 18-26 year olds in team based community service projects focused on education, climate change mitigation, building affordable housing and disaster response.

AmeriCorps State & National: a volunteer program focused on meeting the critical needs of the community in areas of education, disaster services, health etc.

Public Health Americorps: a program designed to improve public health outcomes

Americorps VISTA (Volunteers in Service to America) is dedicated to fighting poverty through capacity-building activities in organizations addressing issues like public health, education, and the environment

AmeriCorps Seniors is a specific branch of the AmeriCorps aimed at older adults, typically aged 55 and over. It provides opportunities for seniors to contribute their skills and experience to community service. Programs under AmeriCorps Seniors include:

Americorp Seniors FGP (Foster Grandparent Program): a volunteer program focused on matching older adults with children and youth in need. The purpose is to facilitate sharing and mentorship between generations.
Americorps Seniors RSVP (Retired Senior Volunteer Program): a volunteer program for retired adults. Focuses in categories of tutoring, mentoring, and environmental conservation
Americorp Seniors SCP (Senior Companion Program): a volunteer program designed to assist adults that need help with daily activities 
Americorp Seniors SDP (Senior Demonstration Program): is a grant program designed to provide older adults with grants to serve their communities through service

* Benefits: Participants in AmeriCorps Seniors can receive stipends, training, and the chance to make a positive impact in their communities while also combating social isolation.

Together, AmeriCorps and AmeriCorps Seniors play a crucial role in fostering civic engagement and addressing community needs across the country.


[AmeriCorps]: https://americorps.gov/


There are several programs in AmeriCorps:

* AmeriCorps

  * AmeriCorps NCCC
  
  * AmeriCorps State and National
  
  * AmeriCorps VISTA
  
  * Public Health AmeriCorps
  
* AmeriCorps Seniors

  * AmeriCorps Seniors Foster Grandparent Program
  
  * AmeriCorps Seniors RSVP
  
  * AmeriCorps Seniors Senior Companion Program
  

# Data Source

* The data is collected and published by AmeriCorps.
* The dataset provides comparisons of demographic group prevalence in AmeriCorps Member/Volunteers populations to that of the greater U.S. population. 
* The data was initially published on October 19, 2023, and last modified on December 18, 2023.

[Data]: https://catalog.data.gov/dataset/americorps-participant-demographics-data


# Info on the dataset

```{r}
americorps <- read.csv("Americorps_Participant_Demographics_Data.csv", header =TRUE)
```
* The source dataset consists of about 26000 observations over 17 attributes 
* The data includes the following columns:
```{r}
names(americorps)
```

* Of these, for the analysis we are only interested in the following
```{r}
americorps <- americorps %>%
  select(-odds_ratio_estimate,-lwr_95,-uppr_95, -representation,-magnitude_range_size, -significant)
names(americorps)
```

* The data has already been cleared of missing or NA values and is being convert to desired variable type.

The summary of the data:
```{r}
americorps$geography<-as.factor(americorps$geography)
americorps$dem_cat<-as.factor(americorps$dem_cat)
americorps$dem_group<-as.factor(americorps$dem_group)
americorps$program_office<-as.factor(americorps$program_office)
americorps$service_region<-as.factor(americorps$service_region)
americorps$state<-as.factor(americorps$state)
americorps$time_period<-as.factor(americorps$time_period)
summary(americorps)
```


```{r}
dem_cat_subset <- 'Race'
amco <- americorps %>%
  filter(dem_cat == dem_cat_subset)

time_period_subset <- '2022'
amco <- amco %>%
  filter(time_period == time_period_subset)

amco <- amco %>%
  filter(!program_office %in% c("All AmeriCorps Members", "AmeriCorps Member Programs (no NCCC)", "AmeriCorps Seniors (All)"))

amco <- amco %>%
  filter(!dem_group %in% c("Racially Diverse (Non-White)"))
```


**1. Which program offices are most effective in engaging a diverse range of participants?**
```{r}
```

**2. How does the representation of different demographic groups compare to their proportions in the general population?**
```{r}
```
**3. Which groups are overrepresented or underrepresented in AmeriCorps?**
```{r}
```
**4. How do participation rates compare between different programs within the same service region?**
```{r}
```
**5. What is the racial composition of the volunteers?**
```{r}
#I think in this first chunk, need to replace amco_r2022_noNW with amco because that's how it's subsetted at the beginning? Also think this question should go to #1. I reordered the question on the ppt as well so they make more sense (ie go from least to most specific)
national <- amco_r2022_noNW %>%
  filter(geography == "National")
print(national)

program_MSY_national <- national %>%
  group_by(program_office) %>%
  summarise (total_dem_group = sum(count_dem_group))
print(program_MSY_national)

race_program_national <- aggregate(count_dem_group ~ program_office + dem_group, data = national, sum)
print(race_program_national)

group_MSY_national <- aggregate(count_dem_group ~ dem_group, data = national, sum)
total_MSY_national <- sum(group_MSY_national$count_dem_group)
group_MSY_national$percentage <- (group_MSY_national$count_dem_group / total_MSY_national) * 100
print(group_MSY_national)

#total MSY bar chart
ggplot(group_MSY_national, aes(x = dem_group, y = count_dem_group, fill = dem_group)) +
  geom_bar(stat = "identity", width = 0.5) +
  labs(title = "AmeriCorps Participation of Race by Member Service Years (MSY)", x = "Race", y = "MSY") +
  theme_minimal() +
  scale_fill_brewer(palette = "Set2") + 
  geom_text(aes(label = count_dem_group), vjust = 0, size = 3.5) +
  theme(axis.text.x = element_blank()) +
  theme(plot.title = element_text(size = 20, face = "bold", hjust = 0),
        axis.title = element_text(size = 16, face = "bold"),
        axis.text.x = element_blank(),
        axix.text.y = element_text(size = 10))

#bar chart w %MSY
ggplot(group_MSY_national, aes(x = dem_group, y = percentage, fill = dem_group)) +
  geom_bar(stat = "identity", width = 0.6) +
  labs(title = "Race Distribution by Percentage of Member Service Years (MSY)", x = "Race", y = "MSY(%)") +
  theme_minimal() +
  scale_fill_brewer(palette = "Set2") + 
  geom_text(aes(label = round(percentage, 1)), vjust = 0, size = 3) +
  theme(axis.text.x = element_blank()) +
  theme(legend.position = "none",
        plot.title = element_text(size = 12, face = "bold", hjust = 0),
        axis.title = element_text(size = 10, face = "bold"),
        axis.text.x = element_text(size = 6, angle = 90, vjust = -3),
        axix.text.y = element_text(size = 10))+
  scale_y_continuous(breaks = seq(0, 100, by = 15))
```
**6.Are some racial groups more engaged in volunteer activities within specific states or program offices?**
```{r}
```
